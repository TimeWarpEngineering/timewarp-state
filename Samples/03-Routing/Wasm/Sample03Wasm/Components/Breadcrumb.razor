@inherits TimeWarp.State.TimeWarpStateComponent

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        @{
            var routes = RouteState.Routes.Reverse().ToList();
            for (int i = 0; i < routes.Count; i++)
            {
                var route = routes[i];
                var position = i;
                <li class="breadcrumb-item">
                    <NavLink href="@route.Url" @onclick="@(() => NavigateBack(routes.Count - position - 1))" @onclick:preventDefault>
                        @route.PageTitle
                    </NavLink>
                </li>
            }
        }
    </ol>
</nav>

@code {
    RouteState RouteState => GetState<RouteState>();

    /// <summary>
    /// Navigates back in the route history by the specified number of steps
    /// </summary>
    /// <param name="stepsBack">Number of steps to go back in the navigation history</param>
    private async Task NavigateBack(int stepsBack)
    {
        if (stepsBack > 0)
        {
            await RouteState.GoBack(stepsBack);
        }
    }
}
